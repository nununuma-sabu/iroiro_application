# ババ抜き

TypeScriptで実装した、ブラウザで遊べるシンプルなババ抜きゲームです。
リッチなUIを排除し、ゲームロジックの正確さと拡張性に重点を置いて開発しました。

## 🌟 特徴

- **最大6人プレイ対応**: 一般的にババ抜きは最大6人程度で遊ばれることが多いため、1プレイヤー + 最大5CPUの計6名まで柔軟に対戦人数を選択できるように設計しています。
- **動的なターゲット管理**: 誰かが上がって抜けた場合でも、動的に「左隣の有効なプレイヤー」を探索し、ゲームが円滑に進行するロジックを搭載しています。
- **TypeScriptによる型安全**: カードのランクやスート、プレイヤーの状態を型定義することで、堅牢なゲームロジックを実現しています。

## ⚙️ 技術スタック

- **Language**: TypeScript
- **Style**: CSS3 (Flexbox layout)
- **Tooling**: tsc (TypeScript Compiler)

## 🧮 アルゴリズムのこだわり

### カードのシャッフル
公平なゲーム性を担保するため、山札のシャッフルには**フィッシャー–イェーツのシャッフル (Fisher-Yates Shuffle)** を採用しています。

#### 数学的背景
このアルゴリズムは、要素数 **n** の配列に対して、すべての順列（**n!** 通り）が等確率で発生することを数学的に保証します。

1. 配列の末尾から順に、未確定の要素範囲内からランダムに要素を1つ選ぶ。
2. 選んだ要素と現在の末尾要素を入れ替える。
3. 範囲を1つ狭めて繰り返す。

各ステップにおける確率は以下の通りです：

$$P = \frac{1}{n} \times \frac{1}{n-1} \times \dots \times \frac{1}{1} = \frac{1}{n!}$$

計算量は $O(n)$ であり、メモリ効率と偏りのなさを両立させた優れたアルゴリズムです。

## 🚀 実行方法

1. **コンパイル**
   ```bash
   tsc src/main.ts --target es2015 --lib dom,es2015
   ```
2. **ブラウザで起動 `index.html` をブラウザで開いてください。**
