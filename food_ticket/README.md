# Food Ticket System (é£Ÿåˆ¸æ©Ÿã‚·ã‚¹ãƒ†ãƒ )

é£²é£Ÿåº—å‘ã‘ã®ãƒ‡ã‚¸ã‚¿ãƒ«é£Ÿåˆ¸æ©Ÿã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã€‚é¡§å®¢å‘ã‘ã®æ³¨æ–‡ç”»é¢ã¨ã€ç®¡ç†è€…å‘ã‘ã®å•†å“ãƒ»åœ¨åº«ç®¡ç†æ©Ÿèƒ½ã‚’å‚™ãˆãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [æ©Ÿèƒ½æ¦‚è¦](#æ©Ÿèƒ½æ¦‚è¦)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ä½¿ã„æ–¹](#ä½¿ã„æ–¹)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ)
- [é–‹ç™ºå±¥æ­´](#é–‹ç™ºå±¥æ­´)
- [APIä»•æ§˜](#apiä»•æ§˜)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹æˆ](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹æˆ)
- [é–‹ç™ºç”¨ã‚³ãƒãƒ³ãƒ‰](#é–‹ç™ºç”¨ã‚³ãƒãƒ³ãƒ‰)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [ä»Šå¾Œã®é–‹ç™ºäºˆå®š](#ä»Šå¾Œã®é–‹ç™ºäºˆå®š)

---

## ğŸ¯ æ©Ÿèƒ½æ¦‚è¦

### é¡§å®¢å‘ã‘æ©Ÿèƒ½
- âœ… **åº—èˆ—ãƒ­ã‚°ã‚¤ãƒ³** - åº—èˆ—IDã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§èªè¨¼
- âœ… **é¡”èªè¨¼ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³** - é¡§å®¢å±æ€§ï¼ˆå¹´é½¢å±¤ãƒ»æ€§åˆ¥ï¼‰ã®è‡ªå‹•æ¤œå‡º
- âœ… **æ‰‹å‹•å±æ€§å…¥åŠ›** - é¡”èªè¨¼ã‚¹ã‚­ãƒƒãƒ—æ™‚ã®æ‰‹å‹•å…¥åŠ›
- âœ… **å•†å“é–²è¦§** - ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®å•†å“è¡¨ç¤ºï¼ˆå‹•çš„ã‚«ãƒ†ã‚´ãƒªå¯¾å¿œï¼‰
- âœ… **ã‚«ãƒ¼ãƒˆæ©Ÿèƒ½** - å•†å“ã®è¿½åŠ ãƒ»å‰Šé™¤ãƒ»æ•°é‡å¤‰æ›´
- âœ… **æ³¨æ–‡ç¢ºå®š** - åœ¨åº«ã®è‡ªå‹•æ¸›å°‘ã€æ³¨æ–‡å±¥æ­´ã®ä¿å­˜
- âœ… **ç¾åœ¨æ™‚åˆ»è¡¨ç¤º** - å…¨ãƒšãƒ¼ã‚¸ã«ç¾åœ¨æ™‚åˆ»ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º

### ç®¡ç†è€…å‘ã‘æ©Ÿèƒ½
- âœ… **ã‚«ãƒ†ã‚´ãƒªç®¡ç†** - ã‚«ãƒ†ã‚´ãƒªã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ï¼ˆCRUDæ“ä½œï¼‰
- âœ… **å•†å“ç®¡ç†** - å•†å“ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ï¼ˆCRUDæ“ä½œï¼‰
- âœ… **ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰** - å•†å“ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- âœ… **ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼** - ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®å•†å“çµã‚Šè¾¼ã¿
- âœ… **åˆæœŸåœ¨åº«è¨­å®š** - å•†å“ç™»éŒ²æ™‚ã«åœ¨åº«æ•°ã‚‚åŒæ™‚è¨­å®š
- âœ… **åœ¨åº«ç®¡ç†** - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ¨åº«ç¢ºèªã€åœ¨åº«æ•°ç·¨é›†ã€è²©å£²çŠ¶æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ
- âœ… **å£²ä¸Šåˆ†æ** - å£²ä¸Šã‚°ãƒ©ãƒ•ãƒ»äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»å£²ä¸Šæ¨ç§»è¡¨ç¤º

---

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Python 3.10+**
- **FastAPI** - é«˜é€ŸãªWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **SQLAlchemy** - ORMï¼ˆObject-Relational Mappingï¼‰
- **SQLite** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Passlib** - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
- **python-multipart** - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React 18** + **TypeScript**
- **Vite** - é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- **React Router** - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **Axios** - HTTPé€šä¿¡
- **Tailwind CSS** - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- **react-hot-toast** (ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯)
- **Recharts** - ã‚°ãƒ©ãƒ•æç”»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªç’°å¢ƒ
- Python 3.10ä»¥ä¸Š
- Node.js 18ä»¥ä¸Š
- npm ã¾ãŸã¯ yarn

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/nununuma-sabu/iroiro_application.git
cd iroiro_application/food_ticket
```

### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd backend

# ä»®æƒ³ç’°å¢ƒã®ä½œæˆï¼ˆæ¨å¥¨ï¼‰
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆ
python -m scripts.create_db

# åˆæœŸãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥
python -m scripts.seed

# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
uvicorn app.main:app --reload
```

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ `http://127.0.0.1:8000` ã§èµ·å‹•ã—ã¾ã™ã€‚

### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd ../frontend

# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev
```

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ `http://localhost:5173` ã§èµ·å‹•ã—ã¾ã™ã€‚

---

## ğŸ“– ä½¿ã„æ–¹

### é¡§å®¢ç”»é¢

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:5173` ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã§ä»¥ä¸‹ã‚’å…¥åŠ›ï¼š
   - **åº—èˆ—ID**: `1`
   - **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `password123`
![ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢](docs/image/ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢.png)
3. é¡”èªè¨¼ç”»é¢ã§ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã€ã¾ãŸã¯ã€Œã‚¹ã‚­ãƒƒãƒ—ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
![é¡”èªè¨¼ç”»é¢](docs/image/é¡”èªè¨¼.png)
![é¡”èªè¨¼çµæœ](docs/image/é¡”èªè¨¼çµæœ.png)
![é¡”èªè¨¼ã‚¹ã‚­ãƒƒãƒ—](docs/image/é¡”èªè¨¼ã‚¹ã‚­ãƒƒãƒ—.png)
ã“ã“ã§å…¥åŠ›ã—ãŸæ€§åˆ¥ã‚„å¹´ä»£ãŒãƒ‡ãƒ¼ã‚¿åˆ†æç­‰ã«ç”¨ã„ã‚‰ã‚Œã‚‹äºˆå®š

4. å•†å“ã‚’é¸æŠã—ã¦ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
![å•†å“é¸æŠ](docs/image/æ³¨æ–‡ç”»é¢ã‚¤ãƒ¡ãƒ¼ã‚¸.png)
5. ã€Œæ³¨æ–‡ã‚’ç¢ºå®šã™ã‚‹ã€ãƒœã‚¿ãƒ³ã§æ³¨æ–‡å®Œäº†
![æ³¨æ–‡ç¢ºèª](docs/image/æ³¨æ–‡ç¢ºèª.png)
![æ³¨æ–‡ç¢ºå®š](docs/image/æ³¨æ–‡ç¢ºå®š.png?v=2)

### ç®¡ç†ç”»é¢

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:5173/admin` ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰æ©Ÿèƒ½ã‚’é¸æŠï¼š
   - **ã‚«ãƒ†ã‚´ãƒªç®¡ç†** (`/admin/categories`) - ã‚«ãƒ†ã‚´ãƒªã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
   - **å•†å“ç®¡ç†** (`/admin/products`) - å•†å“ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã€ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   - **åœ¨åº«ç®¡ç†** (`/admin/inventory`) - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ¨åº«ç¢ºèªã€åœ¨åº«æ•°ç·¨é›†ã€è²©å£²çŠ¶æ…‹ã®åˆ‡ã‚Šæ›¿ãˆ
   - **å£²ä¸Šåˆ†æ** (`/admin/analytics`) - å£²ä¸Šã‚°ãƒ©ãƒ•ã€äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€å£²ä¸Šæ¨ç§»

#### ã‚«ãƒ†ã‚´ãƒªç®¡ç†
- æ–°ã—ã„ã‚«ãƒ†ã‚´ãƒªã‚’è¿½åŠ 
- æ—¢å­˜ã‚«ãƒ†ã‚´ãƒªã®åå‰ã‚’ç·¨é›†
- ã‚«ãƒ†ã‚´ãƒªã®å‰Šé™¤ï¼ˆå•†å“ãŒç´ä»˜ã„ã¦ã„ãªã„å ´åˆã®ã¿ï¼‰

#### å•†å“ç®¡ç†
- æ–°è¦å•†å“ã®è¿½åŠ ï¼ˆå•†å“åã€ã‚«ãƒ†ã‚´ãƒªã€ä¾¡æ ¼ã€ç”»åƒã€åˆæœŸåœ¨åº«ï¼‰
- å•†å“æƒ…å ±ã®ç·¨é›†
- å•†å“ã®å‰Šé™¤
- ã‚«ãƒ†ã‚´ãƒªã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

#### åœ¨åº«ç®¡ç†
- å…¨å•†å“ã®åœ¨åº«ä¸€è¦§è¡¨ç¤º
- ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- åœ¨åº«æ•°ã®ç·¨é›†ï¼ˆãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆç·¨é›† or ã‚¯ã‚¤ãƒƒã‚¯å¢—æ¸›ãƒœã‚¿ãƒ³ï¼‰
- è²©å£²ä¸­/è²©å£²åœæ­¢ã®åˆ‡ã‚Šæ›¿ãˆ
- åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºï¼ˆåœ¨åº«10ä»¥ä¸‹ã§è­¦å‘Šè‰²è¡¨ç¤ºï¼‰

#### å£²ä¸Šåˆ†æ
- å£²ä¸Šã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ï¼ˆç·å£²ä¸Šãƒ»æ³¨æ–‡ä»¶æ•°ãƒ»å¹³å‡å®¢å˜ä¾¡ï¼‰
- å£²ä¸Šæ¨ç§»ã‚°ãƒ©ãƒ•ï¼ˆéå»7æ—¥/30æ—¥/90æ—¥ï¼‰
- äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚° TOP10
- è²©å£²æ•°æ¨ç§»ãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆ

---

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
food_ticket/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ core/              # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€è¨­å®š
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py      # âœ… æ–°è¦:   ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ security.py    # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ã€JWTèªè¨¼
â”‚   â”‚   â”‚   â””â”€â”€ deps.py        # âœ… æ–°è¦:  èªè¨¼ä¾å­˜é–¢æ•°
â”‚   â”‚   â”œâ”€â”€ db/                # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py        # Baseå®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py      # ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©
â”‚   â”‚   â”‚   â””â”€â”€ session.py     # DBæ¥ç¶š
â”‚   â”‚   â”œâ”€â”€ routers/           # APIãƒ«ãƒ¼ã‚¿ãƒ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ admin.py       # ç®¡ç†ç”»é¢APIï¼ˆâœ… å…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆèªè¨¼åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ schemas/           # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.py       # ç®¡ç†ç”»é¢ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py        # âœ… æ–°è¦:  èªè¨¼ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”‚   â””â”€â”€ order.py       # æ³¨æ–‡ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â””â”€â”€ main.py            # FastAPIã‚¢ãƒ—ãƒªæœ¬ä½“ï¼ˆâœ… JWTèªè¨¼å¯¾å¿œï¼‰
â”‚   â”œâ”€â”€ tests/                 # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ conftest.py        # ãƒ†ã‚¹ãƒˆå…±é€šè¨­å®šï¼ˆfixtureå®šç¾©ï¼‰
â”‚   â”‚   â”œâ”€â”€ test_admin.py      # ç®¡ç†API ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ test_main.py       # ãƒ¡ã‚¤ãƒ³API ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ test_models.py     # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â””â”€â”€ test_debug.py      # ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ create_db.py       # DBä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â””â”€â”€ seed. py            # åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥
â”‚   â”œâ”€â”€ htmlcov/               # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
â”‚   â”‚   â””â”€â”€ index.html         # ã‚«ãƒãƒ¬ãƒƒã‚¸HTML
â”‚   â”œâ”€â”€ public/                # âœ… æ–°è¦:  é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â””â”€â”€ images/            # å•†å“ç”»åƒä¿å­˜å…ˆ
â”‚   â”œâ”€â”€ . env                   # âœ… æ–°è¦:  ç’°å¢ƒå¤‰æ•°ï¼ˆç§˜å¯†éµç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ .gitignore             # Gité™¤å¤–è¨­å®š
â”‚   â”œâ”€â”€ requirements.txt       # Pythonä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆâœ… JWTè¿½åŠ ï¼‰
â”‚   â”œâ”€â”€ requirements-test.txt  # ãƒ†ã‚¹ãƒˆç”¨ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”‚   â”œâ”€â”€ pytest.ini             # pytestè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ vending_machine.db     # SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
â”‚
â””â”€â”€ frontend/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ api/               # APIé€šä¿¡
    â”‚   â”‚   â”œâ”€â”€ client.ts      # å…±é€šaxiosã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
    â”‚   â”‚   â”œâ”€â”€ admin.ts       # ç®¡ç†ç”»é¢APIé–¢æ•°
    â”‚   â”‚   â”œâ”€â”€ store.ts       # åº—èˆ—APIé–¢æ•°
    â”‚   â”‚   â””â”€â”€ order.ts       # æ³¨æ–‡APIé–¢æ•°
    â”‚   â”œâ”€â”€ components/        # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”‚   â”‚   â”œâ”€â”€ admin/
    â”‚   â”‚   â”‚   â”œâ”€â”€ CategoryManager.tsx
    â”‚   â”‚   â”‚   â”œâ”€â”€ CategoryManager.css
    â”‚   â”‚   â”‚   â”œâ”€â”€ ProductManager.tsx
    â”‚   â”‚   â”‚   â”œâ”€â”€ ProductManager.css
    â”‚   â”‚   â”‚   â”œâ”€â”€ InventoryManager.tsx
    â”‚   â”‚   â”‚   â”œâ”€â”€ InventoryManager.css
    â”‚   â”‚   â”‚   â”œâ”€â”€ SalesAnalytics.tsx
    â”‚   â”‚   â”‚   â””â”€â”€ SalesAnalytics.css
    â”‚   â”‚   â”œâ”€â”€ CurrentTime.tsx      # ç¾åœ¨æ™‚åˆ»è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”‚   â”‚   â”œâ”€â”€ CurrentTime.css
    â”‚   â”‚   â”œâ”€â”€ Header.tsx           # å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼
    â”‚   â”‚   â”œâ”€â”€ LoginScreen.tsx
    â”‚   â”‚   â”œâ”€â”€ FaceRecognitionScreen.tsx
    â”‚   â”‚   â”œâ”€â”€ CustomerAttributeScreen.tsx
    â”‚   â”‚   â””â”€â”€ MenuScreen.tsx
    â”‚   â”œâ”€â”€ pages/             # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”‚   â”‚   â”œâ”€â”€ StorePage.tsx  # é¡§å®¢ç”»é¢
    â”‚   â”‚   â””â”€â”€ AdminPage.tsx  # ç®¡ç†ç”»é¢
    â”‚   â”œâ”€â”€ types/             # TypeScriptå‹å®šç¾©
    â”‚   â”‚   â”œâ”€â”€ auth.ts
    â”‚   â”‚   â”œâ”€â”€ store.ts
    â”‚   â”‚   â””â”€â”€ order.ts
    â”‚   â””â”€â”€ App.tsx            # ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
    â”œâ”€â”€ public/
    â”‚   â””â”€â”€ images/            # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒä¿å­˜å…ˆ
    â”œâ”€â”€ package.json
    â””â”€â”€ vite.config.ts
```

---

## ğŸ”„ é–‹ç™ºå±¥æ­´
<details>
   <summary>ã‚¯ãƒªãƒƒã‚¯ã§é–‹ã</summary>

### 2026-01-20:  ä¸€éƒ¨å‡¦ç†å®Ÿè¡Œæ™‚ã®ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤º

#### å®Ÿè£…å†…å®¹

**react-hot-toastã‚’ä½¿ç”¨ã—ãŸãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºæ©Ÿèƒ½ã‚’è¿½åŠ **
   
### 2026-01-14:  JWTèªè¨¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

#### å®Ÿè£…å†…å®¹

**JWT (JSON Web Token) èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…**

- `backend/app/core/config.py` ã‚’ä½œæˆ
  - `Settings` ã‚¯ãƒ©ã‚¹ã§ç’°å¢ƒå¤‰æ•°ã‚’ç®¡ç†
  - SECRET_KEYã€ALGORITHMã€ACCESS_TOKEN_EXPIRE_MINUTES ã‚’å®šç¾©
  - pydantic-settings ã«ã‚ˆã‚‹å‹å®‰å…¨ãªè¨­å®šç®¡ç†
  
- `backend/app/core/security.py` ã‚’æ‹¡å¼µ
  - `create_access_token()` - JWTãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆé–¢æ•°
  - `verify_token()` - JWTãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼é–¢æ•°
  - æ—¢å­˜ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–æ©Ÿèƒ½ã‚’ç¶­æŒ
  
- `backend/app/core/deps.py` ã‚’ä½œæˆï¼ˆæ–°è¦ï¼‰
  - `get_current_store()` - èªè¨¼ä¾å­˜é–¢æ•°
  - HTTPãƒ™ã‚¢ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¯ãƒ³ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®åº—èˆ—ã‚’å–å¾—
  - èªè¨¼å¤±æ•—æ™‚ã«401ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™

**èªè¨¼ã‚¹ã‚­ãƒ¼ãƒã®è¿½åŠ **

- `backend/app/schemas/auth.py` ã‚’ä½œæˆï¼ˆæ–°è¦ï¼‰
  - `Token` - ãƒˆãƒ¼ã‚¯ãƒ³ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”¨ã‚¹ã‚­ãƒ¼ãƒ
  - `TokenData` - ãƒˆãƒ¼ã‚¯ãƒ³ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ç”¨ã‚¹ã‚­ãƒ¼ãƒ
  - `StoreLogin` - ãƒ­ã‚°ã‚¤ãƒ³ãƒªã‚¯ã‚¨ã‚¹ãƒˆç”¨ã‚¹ã‚­ãƒ¼ãƒ

**ãƒ­ã‚°ã‚¤ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®JWTå¯¾å¿œ**

- `backend/app/main.py` ã‚’ä¿®æ­£
  - `/login/store` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’JWTå¯¾å¿œã«å¤‰æ›´
  - ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸæ™‚ã«ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œ
  - ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã‚’ `Token` ã‚¹ã‚­ãƒ¼ãƒã«å¤‰æ›´
  - `/stores/me` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ ï¼ˆèªè¨¼ãƒ†ã‚¹ãƒˆç”¨ï¼‰

**ç®¡ç†ç”»é¢APIå…¨ä½“ã®èªè¨¼ä¿è­·**

- `backend/app/routers/admin.py` ã‚’ä¿®æ­£
  - å…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã« `Depends(get_current_store)` ã‚’è¿½åŠ 
  - ã‚«ãƒ†ã‚´ãƒªç®¡ç†APIï¼ˆ5ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
  - å•†å“ç®¡ç†APIï¼ˆ5ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
  - å•†å“ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰APIï¼ˆ1ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
  - åœ¨åº«ç®¡ç†APIï¼ˆ4ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
  - å£²ä¸Šåˆ†æAPIï¼ˆ3ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
  - **åˆè¨ˆ18ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå…¨ã¦ã«èªè¨¼ã‚’é©ç”¨**

**ç’°å¢ƒå¤‰æ•°ç®¡ç†**

- `backend/.env` ã‚’ä½œæˆ
  - SECRET_KEYï¼ˆJWTç½²åç”¨ç§˜å¯†éµï¼‰
  - ALGORITHMï¼ˆHS256ï¼‰
  - ACCESS_TOKEN_EXPIRE_MINUTESï¼ˆ30åˆ†ï¼‰
  
- `backend/.gitignore` ã« `.env` ã‚’è¿½åŠ 
  - ç§˜å¯†éµã®æ¼æ´©ã‚’é˜²æ­¢

**ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ **

- `backend/requirements.txt` ã«è¿½åŠ 
  - `python-jose[cryptography]` - JWTç”Ÿæˆãƒ»æ¤œè¨¼
  - `python-multipart` - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œ
  - `pydantic-settings` - ç’°å¢ƒå¤‰æ•°ç®¡ç†

#### æ©Ÿèƒ½è©³ç´°

**JWTèªè¨¼ãƒ•ãƒ­ãƒ¼**

1. **ãƒ­ã‚°ã‚¤ãƒ³**
   ```bash
   POST /login/store
   {
     "store_id": 1,
     "password": "password123"
   }
   ```
   ãƒ¬ã‚¹ãƒãƒ³ã‚¹
   ```json
   {
     "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
     "token_type": "bearer"
   }
   ```

### 2026-01-14: FastAPIãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè£…

#### å®Ÿè£…å†…å®¹

**ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**

- `backend/tests/conftest.py` ã‚’ä½œæˆ
  - Pytestã®fixtureè¨­å®šã‚’å®Ÿè£…
  - ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªSQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š
  - ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ï¼ˆseed_test_dataï¼‰
  - FastAPIãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è¨­å®š
- `backend/pytest.ini` ã‚’ä½œæˆ
  - pytestã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
  - ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ã€ã‚«ãƒãƒ¬ãƒƒã‚¸è¨­å®šã‚’å®šç¾©
- `backend/requirements-test.txt` ã‚’ä½œæˆ
  - ãƒ†ã‚¹ãƒˆç”¨ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªã‚¹ãƒˆï¼ˆpytest, pytest-cov ãªã©ï¼‰

**ç®¡ç†APIãƒ†ã‚¹ãƒˆï¼ˆtest_admin. pyï¼‰ã®å®Ÿè£…**

- `backend/tests/test_admin.py` ã‚’ä½œæˆ
  - `TestCategoryAPI` ã‚¯ãƒ©ã‚¹
    - `test_get_categories` - ã‚«ãƒ†ã‚´ãƒªä¸€è¦§å–å¾—ã®ãƒ†ã‚¹ãƒˆ
    - `test_create_category` - ã‚«ãƒ†ã‚´ãƒªä½œæˆã®ãƒ†ã‚¹ãƒˆ
  - `TestProductAPI` ã‚¯ãƒ©ã‚¹
    - `test_get_products` - å•†å“ä¸€è¦§å–å¾—ã®ãƒ†ã‚¹ãƒˆ
    - `test_create_product` - å•†å“ä½œæˆã®ãƒ†ã‚¹ãƒˆ
  - `TestInventoryAPI` ã‚¯ãƒ©ã‚¹
    - `test_get_inventories` - åœ¨åº«ä¸€è¦§å–å¾—ã®ãƒ†ã‚¹ãƒˆ

**ãƒ¡ã‚¤ãƒ³APIãƒ†ã‚¹ãƒˆï¼ˆtest_main.pyï¼‰ã®å®Ÿè£…**

- `backend/tests/test_main.py` ã‚’ä½œæˆ
  - `TestRootEndpoint` ã‚¯ãƒ©ã‚¹
    - `test_read_root` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
  - `TestStoreLogin` ã‚¯ãƒ©ã‚¹
    - `test_login_success` - ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸã®ãƒ†ã‚¹ãƒˆ
    - `test_login_wrong_password` - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èª¤ã‚Šã®ãƒ†ã‚¹ãƒˆ
    - `test_login_nonexistent_store` - å­˜åœ¨ã—ãªã„åº—èˆ—ã®ãƒ†ã‚¹ãƒˆ
  - `TestGetStoreProducts` ã‚¯ãƒ©ã‚¹
    - `test_get_products_success` - å•†å“å–å¾—æˆåŠŸã®ãƒ†ã‚¹ãƒˆ
    - `test_get_products_empty_store` - ç©ºåº—èˆ—ã®ãƒ†ã‚¹ãƒˆ
  - `TestCustomerAttribute` ã‚¯ãƒ©ã‚¹
    - `test_create_customer_attribute_success` - é¡§å®¢å±æ€§ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆ
  - `TestCreateOrder` ã‚¯ãƒ©ã‚¹
    - `test_create_order_success` - æ³¨æ–‡ä½œæˆæˆåŠŸã®ãƒ†ã‚¹ãƒˆ
    - `test_create_order_insufficient_stock` - åœ¨åº«ä¸è¶³ã‚¨ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ

**ãƒ¢ãƒ‡ãƒ«ãƒ†ã‚¹ãƒˆï¼ˆtest_models. pyï¼‰ã®å®Ÿè£…**

- `backend/tests/test_models.py` ã‚’ä½œæˆ
  - `TestStoreModel` ã‚¯ãƒ©ã‚¹
    - `test_create_store` - åº—èˆ—ãƒ¢ãƒ‡ãƒ«ä½œæˆã®ãƒ†ã‚¹ãƒˆ
  - `TestProductModel` ã‚¯ãƒ©ã‚¹
    - `test_create_product_with_category` - ã‚«ãƒ†ã‚´ãƒªä»˜ãå•†å“ä½œæˆã®ãƒ†ã‚¹ãƒˆ
  - `TestOrderModel` ã‚¯ãƒ©ã‚¹
    - `test_create_order_with_details` - æ³¨æ–‡ãƒ»æ˜ç´°ä½œæˆã®ãƒ†ã‚¹ãƒˆ

**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ†é›¢ã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**

- `backend/app/db/session.py` ã‚’ä¿®æ­£
  - ç’°å¢ƒå¤‰æ•° `TESTING` ã«ã‚ˆã‚‹æœ¬ç•ª/ãƒ†ã‚¹ãƒˆDBåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã‚’è¿½åŠ 
  - `get_db()` é–¢æ•°ã‚’ `session. py` ã«ç§»å‹•ï¼ˆå¾ªç’°ã‚¤ãƒ³ãƒãƒ¼ãƒˆè§£æ¶ˆï¼‰
- `backend/app/main.py` ã‚’ä¿®æ­£
  - `get_db` ã‚’ `app.db. session` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«å¤‰æ›´
  - é‡è¤‡ã—ã¦ã„ãŸ `get_db` é–¢æ•°å®šç¾©ã‚’å‰Šé™¤
- `backend/app/routers/admin.py` ã‚’ä¿®æ­£
  - ç‹¬è‡ªã® `get_db` é–¢æ•°ã‚’å‰Šé™¤
  - `app.db.session` ã‹ã‚‰ `get_db` ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

**ã‚¹ã‚­ãƒ¼ãƒè£œå®Œ**

- `backend/app/schemas/admin.py` ã«ä»¥ä¸‹ã‚’è¿½åŠ 
  - `InventoryUpdateStock` - åœ¨åº«æ•°æ›´æ–°ç”¨ã‚¹ã‚­ãƒ¼ãƒ
  - `InventoryUpdateSaleStatus` - è²©å£²çŠ¶æ…‹æ›´æ–°ç”¨ã‚¹ã‚­ãƒ¼ãƒ
  - `SalesSummaryResponse` - å£²ä¸Šã‚µãƒãƒªãƒ¼ç”¨ã‚¹ã‚­ãƒ¼ãƒ
  - `PopularProductResponse` - äººæ°—å•†å“ç”¨ã‚¹ã‚­ãƒ¼ãƒ
  - `SalesTrendResponse` - å£²ä¸Šæ¨ç§»ç”¨ã‚¹ã‚­ãƒ¼ãƒ

#### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•

```bash
# å…¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
pytest

# è©³ç´°è¡¨ç¤ºã§å®Ÿè¡Œ
pytest -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆä»˜ãã§å®Ÿè¡Œ
pytest --cov=app --cov-report=html
```

#### ãƒ†ã‚¹ãƒˆçµæœ
```code
âœ… 18 passed (100%)
ğŸ“ˆ Coverage: 68%
â±ï¸  å®Ÿè¡Œæ™‚é–“: 5.63s
```
#### ã‚«ãƒãƒ¬ãƒƒã‚¸è©³ç´°
- app/main.py: 95%
- app/core/security.py: 100%
- app/db/models.py: 100%
- app/schemas/admin.py: 100%
- app/routers/admin.py: 35%
app/routers/admin.pyã®ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸ŠãŒä»Šå¾Œã®èª²é¡Œ


### 2026-01-09:  å£²ä¸Šåˆ†æç”»é¢ã®å®Ÿè£…

#### å®Ÿè£…å†…å®¹
- **å£²ä¸Šåˆ†æAPIï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ã®å®Ÿè£…**
  - `backend/app/routers/admin.py` ã«å£²ä¸Šåˆ†æã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ 
    - `GET /admin/sales/summary` - å£²ä¸Šã‚µãƒãƒªãƒ¼å–å¾—ï¼ˆæœŸé–“æŒ‡å®šå¯èƒ½ï¼‰
    - `GET /admin/sales/popular-products` - äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°å–å¾—
    - `GET /admin/sales/trends` - æ—¥åˆ¥å£²ä¸Šæ¨ç§»å–å¾—
  - `backend/app/schemas/admin.py` ã«å£²ä¸Šåˆ†æé–¢é€£ã®ã‚¹ã‚­ãƒ¼ãƒã‚’è¿½åŠ 
    - `SalesSummaryResponse` - å£²ä¸Šã‚µãƒãƒªãƒ¼ç”¨ã‚¹ã‚­ãƒ¼ãƒ
    - `PopularProductResponse` - äººæ°—å•†å“ç”¨ã‚¹ã‚­ãƒ¼ãƒ
    - `SalesTrendResponse` - å£²ä¸Šæ¨ç§»ç”¨ã‚¹ã‚­ãƒ¼ãƒ

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰APIé–¢æ•°ã®è¿½åŠ **
  - `frontend/src/api/admin.ts` ã«å£²ä¸Šåˆ†æAPIé–¢æ•°ã‚’å®Ÿè£…
    - `getSalesSummary()` - å£²ä¸Šã‚µãƒãƒªãƒ¼å–å¾—
    - `getPopularProducts()` - äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°å–å¾—
    - `getSalesTrends()` - å£²ä¸Šæ¨ç§»ãƒ‡ãƒ¼ã‚¿å–å¾—
  - TypeScriptå‹å®šç¾© `SalesSummary`, `PopularProduct`, `SalesTrend` ã‚’è¿½åŠ 

- **å£²ä¸Šåˆ†æç”»é¢ï¼ˆSalesAnalyticsï¼‰ã®å®Ÿè£…**
  - `frontend/src/components/admin/SalesAnalytics.tsx` ã‚’ä½œæˆ
  - `frontend/src/components/admin/SalesAnalytics.css` ã‚’ä½œæˆ
  - `frontend/src/pages/AdminPage.tsx` ã«ãƒ«ãƒ¼ãƒˆã‚’è¿½åŠ 
  - Rechartsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å°å…¥

#### æ©Ÿèƒ½è©³ç´°

##### å£²ä¸Šã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰
- ç·å£²ä¸Šé‡‘é¡ã®è¡¨ç¤º
- ç·æ³¨æ–‡ä»¶æ•°ã®è¡¨ç¤º
- å¹³å‡å®¢å˜ä¾¡ã®è¡¨ç¤º
- å„ã‚«ãƒ¼ãƒ‰ã¯ãƒ›ãƒãƒ¼æ™‚ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ

##### å£²ä¸Šæ¨ç§»ã‚°ãƒ©ãƒ•
- æ—¥åˆ¥ã®å£²ä¸Šæ¨ç§»ã‚’æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã§è¡¨ç¤º
- æœŸé–“åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ï¼ˆéå»7æ—¥/30æ—¥/90æ—¥ï¼‰
- å£²ä¸Šé‡‘é¡ã¨æ³¨æ–‡æ•°ã‚’åŒæ™‚è¡¨ç¤º
- ã‚«ã‚¹ã‚¿ãƒ Tooltipã§è©³ç´°æƒ…å ±ã‚’è¡¨ç¤º

##### äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- è²©å£²æ•°é †ã«TOP10ã‚’è¡¨ç¤º
- ã‚«ãƒ¼ãƒ‰å½¢å¼ã§å•†å“ç”»åƒãƒ»åå‰ãƒ»ã‚«ãƒ†ã‚´ãƒªã‚’è¡¨ç¤º
- è²©å£²æ•°ãƒ»å£²ä¸Šé‡‘é¡ãƒ»æ³¨æ–‡å›æ•°ã‚’è¡¨ç¤º
- 1ä½ï½3ä½ã¯ç‰¹åˆ¥ãªãƒãƒƒã‚¸ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆé‡‘ãƒ»éŠ€ãƒ»éŠ…ï¼‰

##### è²©å£²æ•°æ¨ç§»ãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
- TOP10å•†å“ã®è²©å£²æ•°ã‚’æ£’ã‚°ãƒ©ãƒ•ã§è¡¨ç¤º
- å•†å“åã”ã¨ã«è‰²åˆ†ã‘

```typescript
// å£²ä¸Šåˆ†æAPIã®ä½¿ç”¨ä¾‹
import * as adminApi from '../../api/admin';

// å£²ä¸Šã‚µãƒãƒªãƒ¼ã‚’å–å¾—
const summary = await adminApi.getSalesSummary(1);

// äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’å–å¾—ï¼ˆTOP10ï¼‰
const popularProducts = await adminApi.getPopularProducts(1, 10);

// å£²ä¸Šæ¨ç§»ã‚’å–å¾—ï¼ˆéå»30æ—¥åˆ†ï¼‰
const trends = await adminApi.getSalesTrends(1, 30);
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº
- `orders` ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ `order_details` ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é›†è¨ˆ
- SQLAlchemyã®é›†è¨ˆé–¢æ•°ï¼ˆ`func.sum`, `func.count`ï¼‰ã‚’ä½¿ç”¨
- JOINå¥ã§å•†å“åãƒ»ã‚«ãƒ†ã‚´ãƒªåã‚‚åŒæ™‚å–å¾—
- æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã§æœŸé–“æŒ‡å®šãŒå¯èƒ½

### 2026-01-02: åœ¨åº«ç®¡ç†ç”»é¢ã®å®Ÿè£…

#### å®Ÿè£…å†…å®¹
- **åœ¨åº«ç®¡ç†APIï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ã®å®Ÿè£…**
  - `backend/app/routers/admin.py` ã«åœ¨åº«ç®¡ç†ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ 
    - `GET /admin/inventories` - åœ¨åº«ä¸€è¦§å–å¾—ï¼ˆåº—èˆ—IDãƒ»ã‚«ãƒ†ã‚´ãƒªIDã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼å¯èƒ½ï¼‰
    - `PUT /admin/inventories/{store_id}/{product_id}/stock` - åœ¨åº«æ•°æ›´æ–°
    - `PATCH /admin/inventories/{store_id}/{product_id}/sale-status` - è²©å£²çŠ¶æ…‹åˆ‡ã‚Šæ›¿ãˆ
  - `backend/app/schemas/admin.py` ã«åœ¨åº«é–¢é€£ã®ã‚¹ã‚­ãƒ¼ãƒã‚’è¿½åŠ 
    - `InventoryUpdateStock` - åœ¨åº«æ•°æ›´æ–°ç”¨ã‚¹ã‚­ãƒ¼ãƒ
    - `InventoryUpdateSaleStatus` - è²©å£²çŠ¶æ…‹æ›´æ–°ç”¨ã‚¹ã‚­ãƒ¼ãƒ

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰APIé–¢æ•°ã®è¿½åŠ **
  - `frontend/src/api/admin.ts` ã«åœ¨åº«ç®¡ç†APIé–¢æ•°ã‚’å®Ÿè£…
    - `getInventories()` - åœ¨åº«ä¸€è¦§å–å¾—
    - `updateInventoryStock()` - åœ¨åº«æ•°æ›´æ–°
    - `updateInventorySaleStatus()` - è²©å£²çŠ¶æ…‹åˆ‡ã‚Šæ›¿ãˆ
  - TypeScriptå‹å®šç¾© `Inventory` ã‚’è¿½åŠ 

- **åœ¨åº«ç®¡ç†ç”»é¢ï¼ˆInventoryManagerï¼‰ã®å®Ÿè£…**
  - `frontend/src/components/admin/InventoryManager.tsx` ã‚’ä½œæˆ
  - `frontend/src/components/admin/InventoryManager.css` ã‚’ä½œæˆ
  - `frontend/src/pages/AdminPage.tsx` ã«ãƒ«ãƒ¼ãƒˆã‚’è¿½åŠ 

#### æ©Ÿèƒ½è©³ç´°

##### åœ¨åº«ä¸€è¦§è¡¨ç¤º
- ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§å•†å“æƒ…å ±ã‚’è¡¨ç¤ºï¼ˆç”»åƒã€å•†å“åã€ã‚«ãƒ†ã‚´ãƒªã€ä¾¡æ ¼ã€åœ¨åº«æ•°ã€è²©å£²çŠ¶æ…‹ï¼‰
- ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
- åœ¨åº«æ•°10ä»¥ä¸‹ã®å•†å“ã¯è­¦å‘Šè‰²ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸èƒŒæ™¯ï¼‰ã§è¡¨ç¤º
- åœ¨åº«0ã®å•†å“ã¯å±é™ºè‰²ï¼ˆèµ¤èƒŒæ™¯ï¼‰ã§è¡¨ç¤º

##### åœ¨åº«æ•°ç·¨é›†
- **ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆç·¨é›†**:  åœ¨åº«æ•°æ¬„ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç›´æ¥æ•°å€¤å…¥åŠ›
- **ã‚¯ã‚¤ãƒƒã‚¯èª¿æ•´ãƒœã‚¿ãƒ³**: +10 / +5 / -5 / -10 ã®ãƒœã‚¿ãƒ³ã§ç´ æ—©ãåœ¨åº«å¢—æ¸›
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³:  åœ¨åº«æ•°ãŒ0æœªæº€ã«ãªã‚‰ãªã„ã‚ˆã†ãƒã‚§ãƒƒã‚¯

##### è²©å£²çŠ¶æ…‹ç®¡ç†
- ã€Œè²©å£²ä¸­ã€/ã€Œè²©å£²åœæ­¢ã€ã®ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³
- è²©å£²ä¸­:  ç·‘è‰²è¡¨ç¤ºã€è²©å£²åœæ­¢: ã‚°ãƒ¬ãƒ¼è¡¨ç¤º
- ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§èª¤æ“ä½œã‚’é˜²æ­¢

```typescript
// åœ¨åº«ç®¡ç†APIã®ä½¿ç”¨ä¾‹
import * as adminApi from '../../api/admin';

// åœ¨åº«ä¸€è¦§ã‚’å–å¾—ï¼ˆåº—èˆ—ID=1ã€ã‚«ãƒ†ã‚´ãƒªã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼‰
const inventories = await adminApi.getInventories(1, categoryId);

// åœ¨åº«æ•°ã‚’æ›´æ–°
await adminApi.updateInventoryStock(storeId, productId, 50);

// è²©å£²çŠ¶æ…‹ã‚’åˆ‡ã‚Šæ›¿ãˆ
await adminApi.updateInventorySaleStatus(storeId, productId, false);
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº
- `store_inventories` ãƒ†ãƒ¼ãƒ–ãƒ«ã¨é€£æº
- æ³¨æ–‡æ™‚ã«åœ¨åº«ãŒè‡ªå‹•æ¸›å°‘ã™ã‚‹æ—¢å­˜æ©Ÿèƒ½ã¨ã®çµ±åˆ
- JOINå¥ã§å•†å“åãƒ»ã‚«ãƒ†ã‚´ãƒªåã‚‚åŒæ™‚å–å¾—

### 2025-12-29:   ç¾åœ¨æ™‚åˆ»è¡¨ç¤ºæ©Ÿèƒ½ã®å®Ÿè£…

#### å®Ÿè£…å†…å®¹
- **å…¨ãƒšãƒ¼ã‚¸å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼ã«ç¾åœ¨æ™‚åˆ»ã‚’è¡¨ç¤º**
  - `frontend/src/components/CurrentTime.tsx` ã‚’ä½œæˆ
  - `frontend/src/components/CurrentTime.css` ã‚’ä½œæˆ
  - `frontend/src/components/Header.tsx` ã‚’ä½œæˆ
  - `frontend/src/App.tsx` ã‚’æ›´æ–°ã—ã¦Headerã‚’å…¨ãƒšãƒ¼ã‚¸ã«é©ç”¨

#### æ©Ÿèƒ½è©³ç´°
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**:   1ç§’ã”ã¨ã«è‡ªå‹•çš„ã«æ™‚åˆ»ã‚’æ›´æ–°
- **æ—¥æœ¬èªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: `YYYYå¹´MMæœˆDDæ—¥(æ›œæ—¥) HH:MI:SS` å½¢å¼ã§è¡¨ç¤º
- **ã‚¹ãƒ†ã‚£ãƒƒã‚­ãƒ¼ãƒ˜ãƒƒãƒ€ãƒ¼**: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã‚‚ç”»é¢ä¸Šéƒ¨ã«å›ºå®šè¡¨ç¤º
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ã¨ã‚·ãƒ£ãƒ‰ã‚¦åŠ¹æœ

```typescript
// CurrentTime.tsx ã®å®Ÿè£…ä¾‹
const formatTime = (date: Date): string => {
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, '0');
  const day = String(date.getDate()).padStart(2, '0');
  const hours = String(date.getHours()).padStart(2, '0');
  const minutes = String(date.getMinutes()).padStart(2, '0');
  const seconds = String(date.getSeconds()).padStart(2, '0');
  
  const weekdays = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
  const weekday = weekdays[date.getDay()];

  return `${year}å¹´${month}æœˆ${day}æ—¥(${weekday}) ${hours}:${minutes}: ${seconds}`;
};
```

### 2025-12-28: ç®¡ç†ç”»é¢ã®å®Ÿè£…

#### Step 1: APIåŸºç›¤ã®å…±é€šåŒ–
- **å®Ÿè£…å†…å®¹**
  - `frontend/src/api/client.ts` ã‚’ä½œæˆã—ã€axioså…±é€šã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®Ÿè£…
  - `frontend/src/api/store.ts` ã‚’æ›´æ–°ã—ã€å…±é€šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼ã‚’è¿½åŠ 

```typescript
// frontend/src/api/client.ts
import axios from 'axios';

export const apiClient = axios.create({
  baseURL: 'http://127.0.0.1:8000',
  headers: {
    'Content-Type': 'application/json',
  },
});
```

#### Step 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ç®¡ç†ç”»é¢API
- **å®Ÿè£…å†…å®¹**
  - `backend/app/schemas/admin.py` ã‚’ä½œæˆï¼ˆã‚«ãƒ†ã‚´ãƒªãƒ»å•†å“ã®ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ï¼‰
  - `backend/app/routers/admin.py` ã‚’ä½œæˆï¼ˆç®¡ç†ç”»é¢APIå®Ÿè£…ï¼‰
  - `backend/app/main.py` ã«ç®¡ç†ç”»é¢ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’ç™»éŒ²

- **APIä¸€è¦§**
  - ã‚«ãƒ†ã‚´ãƒªCRUD:   GET/POST/PUT/DELETE `/admin/categories`
  - å•†å“CRUD: GET/POST/PUT/DELETE `/admin/products`
  - ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰: POST `/admin/upload-image`

#### Step 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¤‰æ›´
- **å®Ÿè£…å†…å®¹**
  - `frontend/src/App.tsx` ã‚’React Routerã§æ›´æ–°
  - `frontend/src/pages/StorePage.tsx` ã‚’ä½œæˆï¼ˆé¡§å®¢å‘ã‘ãƒšãƒ¼ã‚¸ï¼‰
  - `frontend/src/pages/AdminPage.tsx` ã‚’ä½œæˆï¼ˆç®¡ç†ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰

```typescript
// App.tsx
<Router>
  <Routes>
    <Route path="/" element={<StorePage />} />
    <Route path="/admin/*" element={<AdminPage />} />
  </Routes>
</Router>
```

#### Step 4: ç®¡ç†ç”»é¢APIé–¢æ•°
- **å®Ÿè£…å†…å®¹**
  - `frontend/src/api/admin.ts` ã‚’ä½œæˆ
  - ã‚«ãƒ†ã‚´ãƒªãƒ»å•†å“ã®CRUDé–¢æ•°ã‚’å®Ÿè£…
  - ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é–¢æ•°ã‚’å®Ÿè£…

#### Step 5: ã‚«ãƒ†ã‚´ãƒªç®¡ç†ç”»é¢
- **å®Ÿè£…å†…å®¹**
  - `frontend/src/components/admin/CategoryManager.tsx` ã‚’ä½œæˆ
  - ã‚«ãƒ†ã‚´ãƒªä¸€è¦§è¡¨ç¤ºã€è¿½åŠ ã€ç·¨é›†ã€å‰Šé™¤æ©Ÿèƒ½ã‚’å®Ÿè£…
  - ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†å¯èƒ½ãªUI

#### Step 6: å•†å“ç®¡ç†ç”»é¢
- **å®Ÿè£…å†…å®¹**
  - `frontend/src/components/admin/ProductManager.tsx` ã‚’ä½œæˆ
  - å•†å“ä¸€è¦§è¡¨ç¤ºï¼ˆã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
  - å•†å“è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½
  - ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½
  - ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯¾å¿œ
  - åˆæœŸåœ¨åº«è¨­å®š

#### Step 7: æ³¨æ–‡ç”»é¢ã®æ”¹å–„
- **å®Ÿè£…å†…å®¹**
  - `frontend/src/components/MenuScreen.tsx` ã‚’æ›´æ–°
  - APIã‹ã‚‰å…¨ã‚«ãƒ†ã‚´ãƒªã‚’å‹•çš„ã«å–å¾—
  - å•†å“ãŒãªã„ã‚«ãƒ†ã‚´ãƒªã‚‚è¡¨ç¤º
  - ç®¡ç†ç”»é¢ã§è¿½åŠ ã—ãŸã‚«ãƒ†ã‚´ãƒªãŒå³åæ˜ ã•ã‚Œã‚‹ã‚ˆã†ã«æ”¹å–„

```typescript
// MenuScreen.tsx
const [categories, setCategories] = useState<Category[]>([]);

useEffect(() => {
  const fetchData = async () => {
    const [productsData, categoriesData] = await Promise.all([
      getStoreProducts(storeId),
      getAllCategories(),
    ]);
    setProducts(productsData || []);
    setCategories(categoriesData || []);
  };
  fetchData();
}, [storeId]);
```
</details>
---

## ğŸ”Œ APIä»•æ§˜

### é¡§å®¢å‘ã‘API

#### `POST /login/store`
åº—èˆ—ãƒ­ã‚°ã‚¤ãƒ³

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```json
{
  "store_id": 1,
  "password": "password123"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "status": "success",
  "store_info": {
    "id": 1,
    "name": "æ–°å®¿æœ¬åº—",
    "prefecture": "æ±äº¬éƒ½",
    "municipality": "æ–°å®¿åŒº"
  }
}
```

#### `POST /customer-attributes`
é¡§å®¢å±æ€§ç™»éŒ²

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```json
{
  "store_id": 1,
  "age_group": "20ä»£",
  "gender": "ç”·æ€§"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "attribute_id": 1,
  "store_id": 1,
  "age_group": "20ä»£",
  "gender": "ç”·æ€§",
  "scanned_at": "2025-12-28T12:34:56"
}
```

#### `GET /stores/{store_id}/products`
è²©å£²ä¸­ã®å•†å“ä¸€è¦§ã‚’å–å¾—

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
[
  {
    "product_id": 1,
    "product_name": "ãƒãƒ³ãƒãƒ¼ã‚°å®šé£Ÿ",
    "category_name": "å®šé£Ÿ",
    "price": 850,
    "stock": 50,
    "image_url":   "/images/hamburg.jpg"
  }
]
```

#### `POST /orders`
æ³¨æ–‡ã‚’ç¢ºå®š

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```json
{
  "store_id": 1,
  "attribute_id": 1,
  "items": [
    {
      "product_id": 1,
      "quantity": 2,
      "unit_price": 850
    }
  ],
  "total_amount": 1700,
  "payment_method": "ç¾é‡‘",
  "take_out_type": "åº—å†…"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "status": "success",
  "order_id":   1
}
```

### ç®¡ç†ç”»é¢API

#### ã‚«ãƒ†ã‚´ãƒªç®¡ç†

**`GET /admin/categories`** - ã‚«ãƒ†ã‚´ãƒªä¸€è¦§å–å¾—

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
[
  {
    "category_id": 1,
    "category_name": "å®šé£Ÿ"
  }
]
```

**`POST /admin/categories`** - ã‚«ãƒ†ã‚´ãƒªè¿½åŠ 

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
```json
{
  "category_name": "ãƒ‰ãƒªãƒ³ã‚¯"
}
```

**`PUT /admin/categories/{category_id}`** - ã‚«ãƒ†ã‚´ãƒªæ›´æ–°

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
```json
{
  "category_name": "ã‚½ãƒ•ãƒˆãƒ‰ãƒªãƒ³ã‚¯"
}
```

**`DELETE /admin/categories/{category_id}`** - ã‚«ãƒ†ã‚´ãƒªå‰Šé™¤

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
{
  "status": "success",
  "message": "ã‚«ãƒ†ã‚´ãƒªã‚’å‰Šé™¤ã—ã¾ã—ãŸ"
}
```

#### å•†å“ç®¡ç†

**`GET /admin/products`** - å•†å“ä¸€è¦§å–å¾—

ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:  
- `category_id` (optional): ã‚«ãƒ†ã‚´ãƒªIDã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
[
  {
    "product_id": 1,
    "product_name": "ãƒãƒ³ãƒãƒ¼ã‚°å®šé£Ÿ",
    "category_id": 1,
    "category_name": "å®šé£Ÿ",
    "standard_price": 850,
    "image_url": "/images/hamburg.jpg",
    "stock": 50,
    "is_on_sale": true
  }
]
```

**`POST /admin/products`** - å•†å“è¿½åŠ 

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
```json
{
  "product_name": "ã‚³ãƒ¼ãƒ©",
  "category_id":  2,
  "standard_price": 350,
  "image_url":  "/images/cola.jpg",
  "initial_stock": 99
}
```

**`PUT /admin/products/{product_id}`** - å•†å“æ›´æ–°

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:  
```json
{
  "product_name": "ã‚³ã‚«ã‚³ãƒ¼ãƒ©",
  "standard_price": 300
}
```

**`DELETE /admin/products/{product_id}`** - å•†å“å‰Šé™¤

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
{
  "status":   "success",
  "message":   "å•†å“ã‚’å‰Šé™¤ã—ã¾ã—ãŸ"
}
```

#### åœ¨åº«ç®¡ç†

**`GET /admin/inventories`** - åœ¨åº«ä¸€è¦§å–å¾—

ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: 
- `store_id` (required): åº—èˆ—ID
- `category_id` (optional): ã‚«ãƒ†ã‚´ãƒªIDã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
[
  {
    "inventory_id": 10001,
    "store_id": 1,
    "product_id": 1,
    "product_name": "ãƒãƒ³ãƒãƒ¼ã‚°å®šé£Ÿ",
    "category_name": "å®šé£Ÿ",
    "standard_price": 850,
    "image_url": "/images/hamburg.jpg",
    "current_stock": 50,
    "is_on_sale": true
  }
]
```

**`PUT /admin/inventories/{store_id}/{product_id}/stock`** - åœ¨åº«æ•°æ›´æ–°

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
```json
{
  "current_stock": 30
}
```

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
{
  "status": "success",
  "message": "åœ¨åº«æ•°ã‚’æ›´æ–°ã—ã¾ã—ãŸ"
}
```

**`PATCH /admin/inventories/{store_id}/{product_id}/sale-status`** - è²©å£²çŠ¶æ…‹åˆ‡ã‚Šæ›¿ãˆ

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
```json
{
  "is_on_sale": false
}
```

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
{
  "status": "success",
  "message": "è²©å£²åœæ­¢ã«å¤‰æ›´ã—ã¾ã—ãŸ"
}
```

#### å£²ä¸Šåˆ†æ

**`GET /admin/sales/summary`** - å£²ä¸Šã‚µãƒãƒªãƒ¼å–å¾—

ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: 
- `store_id` (optional, default: 1): åº—èˆ—ID
- `start_date` (optional): é›†è¨ˆé–‹å§‹æ—¥ï¼ˆYYYY-MM-DDå½¢å¼ï¼‰
- `end_date` (optional): é›†è¨ˆçµ‚äº†æ—¥ï¼ˆYYYY-MM-DDå½¢å¼ï¼‰

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
{
  "total_sales": 125000,
  "total_orders": 150,
  "average_order_value": 833.33,
  "period_start": "2026-01-01",
  "period_end": "2026-01-09"
}
```

**`GET /admin/sales/popular-products`** - äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°å–å¾—

ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:
- `store_id` (optional, default: 1): åº—èˆ—ID
- `limit` (optional, default: 10): å–å¾—ä»¶æ•°
- `start_date` (optional): é›†è¨ˆé–‹å§‹æ—¥ï¼ˆYYYY-MM-DDå½¢å¼ï¼‰
- `end_date` (optional): é›†è¨ˆçµ‚äº†æ—¥ï¼ˆYYYY-MM-DDå½¢å¼ï¼‰

ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 
```json
[
  {
    "product_id": 1,
    "product_name":  "ãƒãƒ³ãƒãƒ¼ã‚°å®šé£Ÿ",
    "category_name": "å®šé£Ÿ",
    "image_url": "/images/hamburg.jpg",
    "total_quantity": 85,
    "total_sales": 72250,
    "order_count": 65
  }
]
```

**`GET /admin/sales/trends`** - å£²ä¸Šæ¨ç§»å–å¾—

ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:
- `store_id` (optional, default: 1): åº—èˆ—ID
- `days` (optional, default: 30): éå»ä½•æ—¥åˆ†å–å¾—ã™ã‚‹ã‹

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
[
  {
    "date":  "2026-01-01",
    "total_sales": 12500,
    "total_orders": 15,
    "average_order_value": 833.33
  },
  {
    "date":  "2026-01-02",
    "total_sales": 18700,
    "total_orders":  22,
    "average_order_value": 850.00
  }
]
```

#### ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

**`POST /admin/upload-image`** - å•†å“ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
- Content-Type: `multipart/form-data`
- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:  `file` (ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«)

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```json
{
  "status": "success",
  "image_url": "/images/1735380123_product.jpg"
}
```

è©³ç´°ã¯ `http://127.0.0.1:8000/docs` ã®Swagger UIã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ—„ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹æˆ

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«

#### prefecturesï¼ˆéƒ½é“åºœçœŒï¼‰
```sql
CREATE TABLE prefectures (
    prefecture_id INTEGER PRIMARY KEY,
    prefecture_name VARCHAR(10) NOT NULL
);
```

#### municipalitiesï¼ˆå¸‚ç”ºæ‘ï¼‰
```sql
CREATE TABLE municipalities (
    municipality_id INTEGER PRIMARY KEY,
    prefecture_id INTEGER NOT NULL,
    municipality_name VARCHAR(50) NOT NULL,
    FOREIGN KEY (prefecture_id) REFERENCES prefectures(prefecture_id)
);
```

#### storesï¼ˆåº—èˆ—ï¼‰
```sql
CREATE TABLE stores (
    store_id INTEGER PRIMARY KEY AUTOINCREMENT,
    municipality_id INTEGER NOT NULL,
    store_name VARCHAR(100) NOT NULL,
    address_detail VARCHAR(200),
    password_hash VARCHAR(255) NOT NULL,
    FOREIGN KEY (municipality_id) REFERENCES municipalities(municipality_id)
);
```

#### categoriesï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰
```sql
CREATE TABLE categories (
    category_id INTEGER PRIMARY KEY AUTOINCREMENT,
    category_name VARCHAR(50) NOT NULL UNIQUE
);
```

#### productsï¼ˆå•†å“ï¼‰
```sql
CREATE TABLE products (
    product_id INTEGER PRIMARY KEY AUTOINCREMENT,
    category_id INTEGER NOT NULL,
    product_name VARCHAR(100) NOT NULL,
    standard_price INTEGER NOT NULL,
    image_url VARCHAR(255),
    FOREIGN KEY (category_id) REFERENCES categories(category_id)
);
```

#### store_inventoriesï¼ˆåº—èˆ—åœ¨åº«ï¼‰
```sql
CREATE TABLE store_inventories (
    inventory_id INTEGER PRIMARY KEY AUTOINCREMENT,
    store_id INTEGER NOT NULL,
    product_id INTEGER NOT NULL,
    current_stock INTEGER NOT NULL DEFAULT 0,
    is_on_sale BOOLEAN NOT NULL DEFAULT TRUE,
    FOREIGN KEY (store_id) REFERENCES stores(store_id),
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);
```

#### customer_attributesï¼ˆé¡§å®¢å±æ€§ï¼‰
```sql
CREATE TABLE customer_attributes (
    attribute_id INTEGER PRIMARY KEY AUTOINCREMENT,
    store_id INTEGER NOT NULL,
    age_group VARCHAR(20),
    gender VARCHAR(10),
    scanned_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (store_id) REFERENCES stores(store_id)
);
```

#### ordersï¼ˆæ³¨æ–‡ï¼‰
```sql
CREATE TABLE orders (
    order_id INTEGER PRIMARY KEY AUTOINCREMENT,
    store_id INTEGER NOT NULL,
    attribute_id INTEGER,
    total_amount INTEGER NOT NULL,
    payment_method VARCHAR(20),
    take_out_type VARCHAR(20),
    ordered_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (store_id) REFERENCES stores(store_id),
    FOREIGN KEY (attribute_id) REFERENCES customer_attributes(attribute_id)
);
```

#### order_detailsï¼ˆæ³¨æ–‡æ˜ç´°ï¼‰
```sql
CREATE TABLE order_details (
    detail_id INTEGER PRIMARY KEY AUTOINCREMENT,
    order_id INTEGER NOT NULL,
    product_id INTEGER NOT NULL,
    quantity INTEGER NOT NULL,
    unit_price INTEGER NOT NULL,
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);
```
### ERå›³
![ERå›³](docs/image/ERå›³.drawio.png)
---

## ğŸ”§ é–‹ç™ºç”¨ã‚³ãƒãƒ³ãƒ‰

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•
```bash
cd ~/iroiro_application/food_ticket/backend/
uvicorn app.main:app --reload
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•
```bash
cd ~/iroiro_application/food_ticket/frontend/
npm run dev
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒªã‚»ãƒƒãƒˆ
```bash
cd ~/iroiro_application/food_ticket/backend/
rm vending_machine.db
python -m scripts.create_db
python -m scripts.seed
```

### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

åˆæœŸãƒ‡ãƒ¼ã‚¿ï¼ˆ`scripts/seed.py`ï¼‰ã«ã¯ä»¥ä¸‹ãŒå«ã¾ã‚Œã¾ã™ï¼š

**åº—èˆ—:**
- ID: 1
- åå‰: æ–°å®¿æœ¬åº—
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `password123`

**ã‚«ãƒ†ã‚´ãƒª:**
- å®šé£Ÿï¼ˆID: 1ï¼‰
- ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆID:  2ï¼‰
- å˜å“ï¼ˆID: 3ï¼‰

**å•†å“:**
1. ãƒãƒ³ãƒãƒ¼ã‚°å®šé£Ÿï¼ˆå®šé£Ÿã€Â¥850ã€åœ¨åº«50ï¼‰
2. ã‹ã‚‰ã‚ã’å®šé£Ÿï¼ˆå®šé£Ÿã€Â¥750ã€åœ¨åº«30ï¼‰
3. ãƒ•ãƒ©ã‚¤ãƒ‰ãƒãƒ†ãƒˆï¼ˆã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€Â¥300ã€åœ¨åº«100ï¼‰
4. ã¨ã‚“ã‹ã¤å®šé£Ÿï¼ˆå®šé£Ÿã€Â¥900ã€åœ¨åº«40ï¼‰

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼:   `Form data requires "python-multipart" to be installed`

**åŸå› :** ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä¸è¶³

**è§£æ±ºæ–¹æ³•:**
```bash
cd ~/iroiro_application/food_ticket/backend/
pip install python-multipart
uvicorn app.main:app --reload
```

### ã‚¨ãƒ©ãƒ¼:  ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚ã« `FileNotFoundError`

**åŸå› :** ç”»åƒä¿å­˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„

**è§£æ±ºæ–¹æ³•:**
```bash
cd ~/iroiro_application/food_ticket/frontend/public
mkdir -p images
```

### ã‚«ãƒ†ã‚´ãƒªã‚’è¿½åŠ ã—ã¦ã‚‚æ³¨æ–‡ç”»é¢ã«è¡¨ç¤ºã•ã‚Œãªã„

**åŸå› :** ä»¥å‰ã®å®Ÿè£…ã§ã¯ã€å•†å“ãŒå­˜åœ¨ã™ã‚‹ã‚«ãƒ†ã‚´ãƒªã®ã¿è¡¨ç¤ºã—ã¦ã„ãŸ

**è§£æ±ºæ¸ˆã¿:** MenuScreen.tsxã‚’æ›´æ–°ã—ã€APIã‹ã‚‰å…¨ã‚«ãƒ†ã‚´ãƒªã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´æ¸ˆã¿

### CORS ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹

**åŸå› :** ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®CORSè¨­å®š

**è§£æ±ºæ–¹æ³•:** `backend/app/main.py` ã®CORSè¨­å®šã‚’ç¢ºèª
```python
origins = [
    "http://localhost:5173",
    "http://127.0.0.1:5173",
]
```

---

## ğŸ“ ä»Šå¾Œã®é–‹ç™ºäºˆå®š

### å„ªå…ˆåº¦:   é«˜
- [x] **åœ¨åº«ç®¡ç†ç”»é¢** - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ¨åº«ç¢ºèªã€è²©å£²ä¸­/åœæ­¢ã®åˆ‡ã‚Šæ›¿ãˆ âœ… å®Œäº†ï¼ˆ2026-01-02ï¼‰
  - [x] åº—èˆ—åˆ¥ã®åœ¨åº«ä¸€è¦§è¡¨ç¤º
  - [x] åœ¨åº«ã®å¢—æ¸›æ©Ÿèƒ½ï¼ˆãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆç·¨é›† + ã‚¯ã‚¤ãƒƒã‚¯èª¿æ•´ãƒœã‚¿ãƒ³ï¼‰
  - [x] è²©å£²çŠ¶æ…‹ã®åˆ‡ã‚Šæ›¿ãˆï¼ˆè²©å£²ä¸­/è²©å£²åœæ­¢ï¼‰
  - [x] ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - [x] åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºï¼ˆåœ¨åº«10ä»¥ä¸‹ã§è­¦å‘Šï¼‰
  
- [x] **å£²ä¸Šåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** - æ—¥åˆ¥/æœˆåˆ¥å£²ä¸Šã‚°ãƒ©ãƒ•ã€äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚° âœ… å®Œäº†ï¼ˆ2026-01-09ï¼‰
  - [x] Rechartsã‚’ä½¿ã£ãŸå£²ä¸Šã‚°ãƒ©ãƒ•
  - [x] æ—¥åˆ¥ã®å£²ä¸Šåˆ†æ
  - [x] äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°TOP10

### å„ªå…ˆåº¦:  ä¸­
- [ ] **æ³¨æ–‡å±¥æ­´ç”»é¢** - éå»ã®æ³¨æ–‡ä¸€è¦§ãƒ»è©³ç´°è¡¨ç¤º
  - æ—¥ä»˜ç¯„å›²ã§ã®çµã‚Šè¾¼ã¿
  - æ³¨æ–‡è©³ç´°ã®è¡¨ç¤º
  - æ³¨æ–‡ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ©Ÿèƒ½
  
- [ ] **åº—èˆ—ç®¡ç†** - è¤‡æ•°åº—èˆ—ã®ç®¡ç†ã€åº—èˆ—æƒ…å ±ç·¨é›†
  - åº—èˆ—ä¸€è¦§è¡¨ç¤º
  - åº—èˆ—æƒ…å ±ã®ç·¨é›†
  - åº—èˆ—ã”ã¨ã®è¨­å®š
  
- [ ] **ç®¡ç†ç”»é¢èªè¨¼** - ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆåŒ–ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™ç®¡ç†
  - ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½
  - ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

### å„ªå…ˆåº¦: ä½
- [ ] **é€šçŸ¥æ©Ÿèƒ½** - åœ¨åº«ã‚¢ãƒ©ãƒ¼ãƒˆã€æ³¨æ–‡å®Œäº†é€šçŸ¥
  - Webãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥
  - ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
  - Slacké€£æº
  
- [ ] **ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›** - å£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆã®PDF/CSVå‡ºåŠ›
  - æ—¥æ¬¡/æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆ
  - CSV/Excelå‡ºåŠ›
  - PDFå¸³ç¥¨å‡ºåŠ›
  
- [ ] **ãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ–** - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®æ”¹å–„
  - ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å‘ã‘UI
  - ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¯¾å¿œ
  - PWAåŒ–

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ‘¤ ä½œæˆè€…

[@nununuma-sabu](https://github.com/nununuma-sabu)

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [React Documentation](https://react.dev/)
- [SQLAlchemy Documentation](https://docs.sqlalchemy.org/)
- [Tailwind CSS Documentation](https://tailwindcss.com/)
- [Vite Documentation](https://vitejs.dev/)
- [Recharts Documentation](https://recharts.org/)
